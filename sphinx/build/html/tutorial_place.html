<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Place tutorial &mdash; pyny3d 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="pyny3d 0.1 documentation" href="index.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>pyny3d 0.1 documentation</span></a></h1>
        <h2 class="heading"><span>Place tutorial</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <p>Back to <a class="reference internal" href="tutorial.html#tutorials"><span>Tutorials</span></a></p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#place-tutorial" id="id4">Place tutorial</a><ul>
<li><a class="reference internal" href="#non-trivial-methods" id="id5">Non-trivial methods</a><ul>
<li><a class="reference internal" href="#add-extruded-obtacles" id="id6">add_extruded_obtacles</a></li>
<li><a class="reference internal" href="#mesh" id="id7">mesh</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="place-tutorial">
<span id="tutorial-place"></span><h1><a class="toc-backref" href="#id4">Place tutorial</a><a class="headerlink" href="#place-tutorial" title="Permalink to this headline">¶</a></h1>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="_images/place.png"><img alt="_images/place.png" src="_images/place.png" style="width: 560.0px; height: 417.9px;" /></a>
<p class="caption"><span class="caption-text"><em>Example of a Place with the three objects it can manage: a Surface, a unlimited
number of Polyhedra and a Set of points.</em></span></p>
</div>
<span class="target" id="module-pyny3d.geoms"></span><dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">pyny3d.geoms.</code><code class="descname">Place</code><span class="sig-paren">(</span><em>surface</em>, <em>polyhedra=[]</em>, <em>set_of_points=array([]</em>, <em>shape=(0</em>, <em>3)</em>, <em>dtype=float64)</em>, <em>make_ccw=True</em>, <em>melt=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyny3d/geoms.html#Place"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Agregates one <code class="docutils literal"><span class="pre">pyny.Surface</span></code>, one Set of points and an indefinite
number of <code class="docutils literal"><span class="pre">pyny.Polyhedra</span></code>.</p>
<p>Represents the union of a surface with an unlimited number of 
obstacles. All the elements that conform a Place keep their 
integrity and functionality, what the Place class makes is to give
the possibility to perform higher level operations in these groups
of objects.</p>
<p>Instances of this class cannot work as iterable object and cannot be
indexed.</p>
<dl class="docutils">
<dt>The lower level instances will be stored in:</dt>
<dd><ul class="first last simple">
<li><strong>Place.surface</strong></li>
<li><strong>Place.polyhedra</strong></li>
<li><strong>Place.set_of_points</strong></li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>surface</strong> (<code class="docutils literal"><span class="pre">pyny.Surface</span></code>, list of <code class="docutils literal"><span class="pre">pyny.Polygon</span></code> or list
of ndarray) &#8211; This is the only necessary input to create a 
<code class="docutils literal"><span class="pre">pyny.Place</span></code>.</li>
<li><strong>polyhedra</strong> (list of <code class="docutils literal"><span class="pre">pyny.Polyhedra</span></code>) &#8211; <code class="docutils literal"><span class="pre">pyny.Polyhedra</span></code> to attach to the 
<code class="docutils literal"><span class="pre">pyny.Place</span></code>.</li>
<li><strong>set_of_points</strong> (<em>ndarray (shape=(N, 3))</em>) &#8211; Points to attach to the <code class="docutils literal"><span class="pre">pyny.Place</span></code>.</li>
<li><strong>make_ccw</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; If True, points will be sorted ccw for each 
polygon.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This object is implemented to be used dynamically. Once
created, it is possible to add elements, with 
<code class="docutils literal"><span class="pre">.add_set_of_points</span></code>, <code class="docutils literal"><span class="pre">.add_extruded_obstacles</span></code> among others,
without replace it.</p>
</div>
</dd></dl>

<div class="section" id="non-trivial-methods">
<h2><a class="toc-backref" href="#id5">Non-trivial methods</a><a class="headerlink" href="#non-trivial-methods" title="Permalink to this headline">¶</a></h2>
<p>As always, you can also use the <a class="reference internal" href="doc.html#doc-place"><span>Place</span></a> documentation for
method-by-method description, specially for the trivial methods we
are going to skip in this section.</p>
<p><strong>Trivial methods:</strong></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">method</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>.add_set_of_points()</td>
<td>Add a set of points</td>
</tr>
<tr class="row-odd"><td>.clear_set_of_points()</td>
<td>Remove the points in this place</td>
</tr>
<tr class="row-even"><td>.get_height()</td>
<td>Returns the z value for a list of points</td>
</tr>
<tr class="row-odd"><td>.add_holes()</td>
<td>Add holes to the surface</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The methods to <strong>transform</strong> the classes are explained in detail separately
in <a class="reference internal" href="tutorial_transformations.html#tutorial-transformations"><span>Transformations</span></a>.</p>
<div class="section" id="add-extruded-obtacles">
<h3><a class="toc-backref" href="#id6">add_extruded_obtacles</a><a class="headerlink" href="#add-extruded-obtacles" title="Permalink to this headline">¶</a></h3>
<p>Probably the easiest way to introduce a Polyhedron in <em>pyny3d</em> is by
<code class="docutils literal"><span class="pre">.add_extruded_obtacles()</span></code> method. It uses the
<code class="docutils literal"><span class="pre">Polyhedron.by_two_polygons()</span></code> algorithm we saw in the
last tutorial <a class="reference internal" href="tutorial_polyhedron.html#tutorial-polyhedron"><span>Polyhedron tutorial</span></a> but only needs one polygon: the top
one. The other required Polygon is automatically computed as the intersection
of a prism which axis is the z axis and its section is the polygon inputed and
the Place&#8217;s Surface.</p>
<p>Seen otherwise, given a top polygon of an obstacle, the Polyhedron will be
generated by extruding its top to the ground (Surface):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pyny3d.geoms</span> <span class="kn">as</span> <span class="nn">pyny</span>

<span class="c1"># Geometries</span>
<span class="n">surf_poly</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="n">obs_top</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">]])</span>

<span class="c1"># Objects</span>
<span class="n">place</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Place</span><span class="p">(</span><span class="n">surf_poly</span><span class="p">)</span>
<span class="n">place</span><span class="o">.</span><span class="n">add_extruded_obstacles</span><span class="p">(</span><span class="n">obs_top</span><span class="p">)</span>
<span class="n">place</span><span class="o">.</span><span class="n">iplot</span><span class="p">()</span>  <span class="c1"># transparent is the default color</span>
</pre></div>
</div>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="_images/extruded.png"><img alt="_images/extruded.png" src="_images/extruded.png" style="width: 424.0px; height: 316.41px;" /></a>
<p class="caption"><span class="caption-text"><em>Extruded polygon in z axis. ``obs_poly`` is the upper one and the
auto-computed is which is in cyan color.</em></span></p>
</div>
</div>
<div class="section" id="mesh">
<h3><a class="toc-backref" href="#id7">mesh</a><a class="headerlink" href="#mesh" title="Permalink to this headline">¶</a></h3>
<p>Generates a xy mesh with a given mesh_size in the
Place.surface&#8217;s domain and computes the Surface&#8217;s height for the
nodes. This mesh is alligned with the main directions <cite>x</cite> and
<cite>y</cite>. By default, the points will be <em>attached</em> to the Place, that is, they
will be added to the current Place&#8217;s set of points. This mesh will avoid the
possible holes in the Surface and has the possibility of place points on the
edges or not.</p>
<p>What makes this method so important is its usage in the shadowing simulations
because it is the easiest way to cover the whole Place (or Space) with sensible
points which will be the real shadowing sensors.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">place</span><span class="o">.</span><span class="n">mesh</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">edge</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">   ...: </span><span class="n">place</span><span class="o">.</span><span class="n">iplot</span><span class="p">()</span>
<span class="gp">   ...: </span>

<span class="gp">In [2]: </span><span class="n">place</span><span class="o">.</span><span class="n">clear_set_of_points</span><span class="p">()</span>
<span class="gp">   ...: </span><span class="n">place</span><span class="o">.</span><span class="n">mesh</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">edge</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">   ...: </span><span class="n">place</span><span class="o">.</span><span class="n">iplot</span><span class="p">()</span>
<span class="gp">   ...: </span>
</pre></div>
</div>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="_images/mesh.png"><img alt="_images/mesh.png" src="_images/mesh.png" style="width: 744.6500000000001px; height: 299.45px;" /></a>
<p class="caption"><span class="caption-text"><em>Meshes of points, with and without including edges</em></span></p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Next tutorial: <a class="reference internal" href="tutorial_space.html#tutorial-space"><span>Space tutorial</span></a></p>
</div>
</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, José Antonio Fernández-Fernández.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>