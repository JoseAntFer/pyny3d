<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Building by aggregation &mdash; pyny3d 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="pyny3d 0.1 documentation" href="index.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>pyny3d 0.1 documentation</span></a></h1>
        <h2 class="heading"><span>Building by aggregation</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <p>Back to <a class="reference internal" href="tutorial.html#tutorials"><span>Tutorials</span></a></p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#building-by-aggregation" id="id2">Building by aggregation</a><ul>
<li><a class="reference internal" href="#classes-initialization" id="id3">Classes initialization</a><ul>
<li><a class="reference internal" href="#polygon" id="id4">Polygon</a></li>
<li><a class="reference internal" href="#surface" id="id5">Surface</a></li>
<li><a class="reference internal" href="#polyhedron" id="id6">Polyhedron</a></li>
<li><a class="reference internal" href="#place" id="id7">Place</a></li>
<li><a class="reference internal" href="#space" id="id8">Space</a></li>
</ul>
</li>
<li><a class="reference internal" href="#in-short" id="id9">In short</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="building-by-aggregation">
<span id="tutorial-building-by-aggregation"></span><h1><a class="toc-backref" href="#id2">Building by aggregation</a><a class="headerlink" href="#building-by-aggregation" title="Permalink to this headline">¶</a></h1>
<p>In <em>pyny3d</em>, <strong>everything is an aggregation of smaller objects.</strong> Even the
lowest class, the Polygon, can be considered as a sequence of points.</p>
<p>As a 3D recreation grows the complexity is also raising, but if the general
scheme is well understood all the problems will be solved with a simple look
to the documentation.</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="_images/scheme.png"><img alt="_images/scheme.png" src="_images/scheme.png" style="width: 1096.8999999999999px; height: 231.7px;" /></a>
<p class="caption"><span class="caption-text"><em>Simple Class Diagram (classes in green)</em></span></p>
</div>
<p><strong>Multiple ordered Points form a Polygon. Multiple Polygons can form either a
Surface or a Polyhedron. One Surface and multiple Polyhedra and Points form
a Place. Multiple Places form a Space. And finally, an arbitrary number of
Spaces can be aggregated to form a larger Space.</strong></p>
<div class="section" id="classes-initialization">
<h2><a class="toc-backref" href="#id3">Classes initialization</a><a class="headerlink" href="#classes-initialization" title="Permalink to this headline">¶</a></h2>
<p>First of all, we have to import the required packages:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pyny3d.geoms</span> <span class="kn">as</span> <span class="nn">pyny</span>
</pre></div>
</div>
<p>In order to ease the call to the <code class="docutils literal"><span class="pre">geoms</span></code> module, it is convenient to
rename the whole sequence of <code class="docutils literal"><span class="pre">pyny3d.geoms</span></code> simply as <code class="docutils literal"><span class="pre">pyny</span></code>.</p>
<div class="section" id="polygon">
<h3><a class="toc-backref" href="#id4">Polygon</a><a class="headerlink" href="#polygon" title="Permalink to this headline">¶</a></h3>
<p>Although this class represent a 3D polygon, it is important to note that they
have to been planar and convex. By default, when a <code class="docutils literal"><span class="pre">pyny.Polygon</span></code> is
initialized its convexity and counterclock wise orded is imposed
and when its parametric equation is required so is its planarity.</p>
<p>Polygons (doc: <a class="reference internal" href="doc.html#doc-polygon"><span>Polygon</span></a>) can only be initialized using a <code class="docutils literal"><span class="pre">ndarray</span></code>
where the columns are x, y, z coordinates and the rows are the ordered points
that form the Polygon. This way, if we want to create a Polygon formed by the
following points:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="24%" />
<col width="24%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">nº</th>
<th class="head"><strong>x</strong></th>
<th class="head"><strong>y</strong></th>
<th class="head"><strong>z</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>0</strong></td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="row-odd"><td><strong>1</strong></td>
<td>7</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td>7</td>
<td>10</td>
<td>2</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td>0</td>
<td>10</td>
<td>2</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>we first have to create the ndarray and then initializes the <code class="docutils literal"><span class="pre">pyny.Polygon</span></code>
with it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ordered_points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                           <span class="p">[</span><span class="mi">7</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                           <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                           <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="n">polygon</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Polygon</span><span class="p">(</span><span class="n">ordered_points</span><span class="p">)</span>
</pre></div>
</div>
<p>At this point, we already have a ready-to-use <code class="docutils literal"><span class="pre">pyny.Polygon</span></code>. Probably, the
first thing you will want to do is to check it visually. To do so, you can
simply use the <code class="docutils literal"><span class="pre">.plot()</span></code> method that all classes have:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">polygon</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>   <span class="c1"># &#39;b&#39; indicates blue color</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/polygon1.png"><img alt="_images/polygon1.png" src="_images/polygon1.png" style="width: 480.0px; height: 358.2px;" /></a>
</div>
</div>
<div class="section" id="surface">
<h3><a class="toc-backref" href="#id5">Surface</a><a class="headerlink" href="#surface" title="Permalink to this headline">¶</a></h3>
<p>A Surface (doc: <a class="reference internal" href="doc.html#doc-surface"><span>Surface</span></a>) is a group of contiguous Polygons. It is
possible, depending on their distribution, that some methods work for a
non-contiguous surfaces but it is very important to remark that the whole
library have been developed under the hypothesis that they are not. Please, if
you need to work with disperse groups of polygons, use multiple surfaces and
englobe them in superior structures (Space).</p>
<p>To initialize a Surface, both a list of <code class="docutils literal"><span class="pre">pyny.Polygons</span></code> or a list of ndarrays
can be used. This two ways of initializing a Surface are identical:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c1"># Polygon by Polygon (redundant)</span>
<span class="n">polygon_0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="n">polygon_0</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Polygon</span><span class="p">(</span><span class="n">polygon_0</span><span class="p">)</span>

<span class="n">polygon_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">]])</span>
<span class="n">polygon_1</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Polygon</span><span class="p">(</span><span class="n">polygon_1</span><span class="p">)</span>

<span class="n">polygon_2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">]])</span>
<span class="n">polygon_2</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Polygon</span><span class="p">(</span><span class="n">polygon_2</span><span class="p">)</span>

<span class="n">polygon_3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">]])</span>
<span class="n">polygon_3</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Polygon</span><span class="p">(</span><span class="n">polygon_3</span><span class="p">)</span>

<span class="n">surface_0</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Surface</span><span class="p">([</span><span class="n">polygon_0</span><span class="p">,</span> <span class="n">polygon_1</span><span class="p">,</span> <span class="n">polygon_2</span><span class="p">,</span> <span class="n">polygon_2</span><span class="p">])</span>


<span class="c1"># Simultaneously (clearer)</span>
<span class="n">polygons_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">]]),</span>
                 <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">]]),</span>
                 <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">]]),</span>
                 <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">]])]</span>
<span class="n">surface_0</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Surface</span><span class="p">(</span><span class="n">polygons_list</span><span class="p">)</span>
</pre></div>
</div>
<p>As we did before, the best way to verify the Surface is to plot it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">surface_0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/surface1.png"><img alt="_images/surface1.png" src="_images/surface1.png" style="width: 480.0px; height: 358.2px;" /></a>
</div>
<p>As you can see in the figure above, the Surface is actually a composition of
two rectangles and one of them is, at the same time, a composition of two
triangles and a trapezium. It is possible in <em>pyny3d</em> to <strong>melt</strong> the polygons
which are complanars and contiguous at initialization of a Surface by:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">surface_0</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Surface</span><span class="p">(</span><span class="n">polygons_list</span><span class="p">,</span> <span class="n">melt</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">surface_0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Melting multiple polygons can speedup heavy calculations (specially at
shadowing) and makes easier handle the geometries. On the other hand, make sure
that you previosly undertand the <code class="docutils literal"><span class="pre">.melt()</span></code> limitations
(doc: <a class="reference internal" href="doc.html#doc-surface"><span>Surface</span></a>).</p>
</div>
<div class="section" id="polyhedron">
<h3><a class="toc-backref" href="#id6">Polyhedron</a><a class="headerlink" href="#polyhedron" title="Permalink to this headline">¶</a></h3>
<p>Polyhedron (doc: <a class="reference internal" href="doc.html#doc-polyhedron"><span>Polyhedron</span></a>) represents 3D polygon-based convex
Polyhedra. It is initialized by the polygons which form its faces in a very
similar way as the Surface does:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">faces_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>   <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.6</span><span class="p">]]),</span>
              <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>   <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]),</span>
              <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.6</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]),</span>
              <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.6</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.6</span><span class="p">]]),</span>
              <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.6</span><span class="p">]]),</span>
              <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span>   <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]])]</span>
<span class="n">polyhedron_0</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Polyhedron</span><span class="p">(</span><span class="n">faces_list</span><span class="p">)</span>
<span class="n">polyhedron_0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/polyhedron1.png"><img alt="_images/polyhedron1.png" src="_images/polyhedron1.png" style="width: 480.0px; height: 358.2px;" /></a>
</div>
<p>Initialize Polyhedra this way is very verbose because given information is
redundant about the faces. A far more convenient way to introduce a
Polyhedron is giving just the top and the bottom Polygons and telling to the
class that a connection between them is needed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">bottom</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span>   <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]])</span>
<span class="n">top</span> <span class="o">=</span>    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.6</span><span class="p">]])</span>
<span class="n">polyhedron_0</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Polyhedron</span><span class="o">.</span><span class="n">by_two_polygons</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">bottom</span><span class="p">)</span>
</pre></div>
</div>
<p>Both Polyhedra created are exactly the same one. Finally, it exists a better
way to create new Polyhedra by extruding a Polygon from a given position
to a Surface, what it is called &#8220;extruded obstacles&#8221;. The method
<code class="docutils literal"><span class="pre">.add_extruded_obstacles()</span></code> is in the Place class due to Surfaces, and
Polyhedra are aggregated there.</p>
<p>Thanks to these ways, you will probably never need to use the <code class="docutils literal"><span class="pre">polygon_list</span></code>
initialization.</p>
</div>
<div class="section" id="place">
<h3><a class="toc-backref" href="#id7">Place</a><a class="headerlink" href="#place" title="Permalink to this headline">¶</a></h3>
<p>Places (doc: <a class="reference internal" href="doc.html#doc-place"><span>Place</span></a>) are initialized giving a Surface, a list of
Polyhedra and a Set of Points but actually, the only indispensable one is
the Surface.</p>
<p>If we have already created the necessary objects, then we can use this simple
way:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">place_0</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Place</span><span class="p">(</span><span class="n">surface_0</span><span class="p">,</span> <span class="n">polyhedron_0</span><span class="p">)</span>
<span class="n">place_0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/place1.png"><img alt="_images/place1.png" src="_images/place1.png" style="width: 480.0px; height: 358.2px;" /></a>
</div>
<p>A Place can also be created giving directly the polygons that form its
surface:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">place_0</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Place</span><span class="p">(</span><span class="n">polygons_list</span><span class="p">,</span> <span class="n">polyhedron_0</span><span class="p">)</span>
</pre></div>
</div>
<p>The Place class is a dynamic one. It was conceived to be easily edited once
created with methods like <code class="docutils literal"><span class="pre">.mesh()</span></code> or <code class="docutils literal"><span class="pre">.add_extruded_obstacles()</span></code>, here
in action:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">wall_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>    <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>  <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="n">wall_2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mf">14.7</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mf">14.7</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>   <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">]])</span>
<span class="n">place_0</span><span class="o">.</span><span class="n">add_extruded_obstacles</span><span class="p">([</span><span class="n">wall_1</span><span class="p">,</span> <span class="n">wall_2</span><span class="p">])</span>
<span class="n">place_0</span><span class="o">.</span><span class="n">mesh</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>   <span class="c1"># distance between points</span>
<span class="n">place_0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/place_1.png"><img alt="_images/place_1.png" src="_images/place_1.png" style="width: 480.0px; height: 358.2px;" /></a>
</div>
<p>Adding some points is possible by independently generate and inserting them
through <code class="docutils literal"><span class="pre">.add_set_of_points()</span></code> but if you want to simply create a regular
distributed set of points it is easier to use <code class="docutils literal"><span class="pre">.mesh()</span></code>.</p>
</div>
<div class="section" id="space">
<h3><a class="toc-backref" href="#id8">Space</a><a class="headerlink" href="#space" title="Permalink to this headline">¶</a></h3>
<p>Space (doc: <a class="reference internal" href="doc.html#doc-place"><span>Place</span></a>) does not bring any new concept, it is only an
aggregation of Places with the goal of being a container that makes possible
global transformations with very few commands. As Place, Space is a very
dynamic class which has a lot methods to interactively use it. For this reason,
it is possible to build a Space through several ways.</p>
<p>The first and simplest way to create a Space is by giving a list of Places as
argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">poly_surf</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">place_1</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Place</span><span class="p">(</span><span class="n">poly_surf</span><span class="p">)</span>
<span class="n">space</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Space</span><span class="p">([</span><span class="n">place_0</span><span class="p">,</span> <span class="n">place_1</span><span class="p">])</span>
</pre></div>
</div>
<p>Furthermore, it can be initialized empty and the elements can be added later:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">space</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Space</span><span class="p">()</span>
<span class="n">space</span><span class="o">.</span><span class="n">add_places</span><span class="p">([</span><span class="n">place_0</span><span class="p">,</span> <span class="n">place_1</span><span class="p">])</span>
</pre></div>
</div>
<p>Combining multiple Spaces is as simple as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">space</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Space</span><span class="p">(</span><span class="n">place_0</span><span class="p">)</span>
<span class="n">space_1</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Space</span><span class="p">(</span><span class="n">place_1</span><span class="p">)</span>
<span class="n">space</span><span class="o">.</span><span class="n">add_spaces</span><span class="p">(</span><span class="n">space_1</span><span class="p">)</span>
</pre></div>
</div>
<p>All these code snippets create the same result:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/space1.png"><img alt="_images/space1.png" src="_images/space1.png" style="width: 480.0px; height: 358.2px;" /></a>
</div>
<p>Note that the <code class="docutils literal"><span class="pre">place_0</span></code> has brought the set of points with it while the new
place (<code class="docutils literal"><span class="pre">place_1</span></code>) has not any point declared. If a more uniformed set of
points is required the easiest way is to clear the old and create a new one:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">space</span><span class="o">.</span><span class="n">clear_sets_of_points</span><span class="p">()</span>
<span class="n">space</span><span class="o">.</span><span class="n">mesh</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">space</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">c_poly</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/space_1.png"><img alt="_images/space_1.png" src="_images/space_1.png" style="width: 480.0px; height: 358.2px;" /></a>
</div>
</div>
</div>
<div class="section" id="in-short">
<h2><a class="toc-backref" href="#id9">In short</a><a class="headerlink" href="#in-short" title="Permalink to this headline">¶</a></h2>
<p>All the steps above can be written just in five lines to generate exactly
the last output:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pyny3d.geoms</span> <span class="kn">as</span> <span class="nn">pyny</span>

<span class="c1"># Declaring the geometry</span>
<span class="c1">## Surface</span>
<span class="n">poly_surf_0</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">]]),</span>
               <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">]]),</span>
               <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">]]),</span>
               <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">3.5</span><span class="p">]])]</span>
<span class="n">poly_surf_1</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">]])]</span>

<span class="c1">## Obstacles</span>
<span class="n">wall_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="n">wall_2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mf">14.7</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mf">14.7</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">]])</span>
<span class="n">chimney</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>

<span class="c1"># Building the solution</span>
<span class="n">place_0</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Place</span><span class="p">(</span><span class="n">poly_surf_0</span><span class="p">,</span> <span class="n">melt</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">place_0</span><span class="o">.</span><span class="n">add_extruded_obstacles</span><span class="p">([</span><span class="n">wall_1</span><span class="p">,</span> <span class="n">wall_2</span><span class="p">,</span> <span class="n">chimney</span><span class="p">])</span>
<span class="n">place_1</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Place</span><span class="p">(</span><span class="n">poly_surf_1</span><span class="p">)</span>
<span class="n">space</span> <span class="o">=</span> <span class="n">pyny</span><span class="o">.</span><span class="n">Space</span><span class="p">([</span><span class="n">place_0</span><span class="p">,</span> <span class="n">place_1</span><span class="p">])</span>
<span class="n">space</span><span class="o">.</span><span class="n">mesh</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># Viz</span>
<span class="n">space</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">c_poly</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Next tutorial: <a class="reference internal" href="tutorial_classes_usage.html#tutorial-basic-usage"><span>Classes usage</span></a></p>
</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, José Antonio Fernández-Fernández.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>